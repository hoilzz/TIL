# Port

![img](./img/nat.png)

위 그림의 사람이 사용하는 컴터를 서버로 사용하려면 어떻게 할까?

하나의 컴터에는 웹서버가 여러대 설치되있을 수 있다. 게임서버, 채팅서버, 미디어 서버, ftp 서버 등등이 있을 수 있다. 특정 컴터에 접속 했을 때 컴퓨터에는 여러 서버가 있다. 그 서버들을 어떻게 식별할까? 이 때 사용하는게 포트 번호다.

Port는 65535개 있다. 0~65535이다. 80번 포트는 http프로토콜을 통해 웹이 사용하도록 정해져있다. 이와 같이 0~1023번까지는 well-known 포트다. (22-SSH)

서버를 컴터에 2대 설치하고 싶을 수 있다. 80번은 이미 사용 중이니, 8080와 같은 포트를 쓸 수 있다. 또한, 80번에 웹서버 설치하지 못할 경우 관습적으로 8080에 사용한다.(걍 관습적이라 여기다 안해도됨).


http://hoil.com 으로 접속하면 80번 포트에 접속한다. 만약에 8080에 리스닝 중인 곳에 웹서버 호출 하고 싶다면 http://hoil.com:8080으로 접속하면 된다.

## Port Forwarding

사람들이 192.168.0.4 서버에 접속하기 위해서 59.6.66.238을 알려줘야한다. 59.6.66.238로 접속 했을 때, 192.168.0.4로 접속하게 하면 되는데 이 때 포트를 이용한다.

- 59.6.66.238:8081 --> 192.168.0.4:80
- 59.6.66.238:8080 --> 192.168.0.3:80

이런 안내자 역할을 하기 위해 라우터 설정을 바꿔주면 된다. 라우터로 들어온 port 번호에 따라 내부 네트워크의 특정한 머신에 특정 포트로 요청을 포워딩할 수 있다.