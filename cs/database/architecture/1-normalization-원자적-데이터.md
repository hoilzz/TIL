# 정규화

## FAQ

- Q. 열에 항상 잘게 쪼갠 데이터를 사용해야할까?
- A. 데이터를 어케 __사용__ 하는지에 따라 다름. 
  - 예컨대, 차 정비공에게 필요한 차 테이블과 차 판매원을 위한 차 테이블은 다름.
    - 정비공 : 차에 대한 다양한 정보
    - 판매원 : 차의 제조사, 모델, 등록 번호 정도만 알면 됨

- Q. 주소가 있다고 했을 때, 전체 주소를 하나의 열에 넣고, 각 주소를 쪼개서 또 다른 열에 넣으면 좋지 않을까?
- A. 데이터의 중복은 길게 봤을 때 좋지 않음.
  - hdd 용량을 얼마나 많이 차지할지
  - 데이터 변경시 update문에 중복 데이터에 대한 내용도 잊지 말고 추가해야함. 유지보수 어려움

테이블 생성시 다음의 과정을 거쳐보자

1. 테이블로 표현하려는 것이 무엇인가
2. 테이블을 사용하여 얻어야 하는 정보들의 리스트 작성.
3. 리스트를 이용하여 테이블을 만들 정보들의 조각으로 나눔.

## 원자적 데이터

쪼갤 수 없는 가장 작은 조각으로 쪼개졌다는 의미

__원자적 데이터의 의미도 데이터를 어떻게 사용하느냐에 따라 달라짐__

1. 피자 배달부의 테이블
  - 주문 번호
  - 주소 : 더이상 쪼갤 필요 없음. 걍 배달만 하면 되니까 

2. 부동산 업자
  - street_number
  - street_name
  - property_type : condo | apartment | house, ...

__위와 같이 `주소`에 대한 원자적 의미가 데이터를 어떻게 사용하느냐에 따라 달라짐__

### 이케하면 좋은점

- 테이블 내의 데이터를 정확히 표현
  - 거리번호에 대한 열이 있다면 그 열에는 __숫자만__ 들어가도록
- 쿼리 작성이 더 쉽고
- 수행시간 빠름

### 주의할점

- 가능한만큼 작은 조각으로 쪼개는게 아님
- 효율적 테이블 만드는 한도 내에서 쪼개기

### 규칙

1. 원자적 데이터로 구성된 열은 그 열에 같은 타입의 데이터 여러개 못가짐
2. 원자적 데이터로 구성된 테이블은 같은 타입의 데이터를 여러 열에 가질 수 없음

### 원자적 데이터에 대한 도움이 되는 질문

1. 테이블이 표현하는 것이 무엇?
2. 그것을 얻기 위해 테이블 어케 사용 ?
  - 쿼리가 쉽게 디자인 되는 거
3. 열들은 쿼리를 짧고 명료하게 할 수 있도록 원자적 데이터를 가지는가?

