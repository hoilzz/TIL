# 4-2

### 4.3.7 새로운 객체를 찾아내기 위해 메시지를 사용하기

앞에서 봤던 다이어그램을 개선해보자.

![img]()

위 문제의 유스케이스는 여행객은, 여행길을 선택하기 위해, 정해진 날짜에 자전거를 빌리고, 여행길 목록을 보고 싶어함

첫번쨰 그림은
- 많은 책임을 가진 Trip

두번째 그림은
- 빌릴 수 있는 자전거를 찾아야하는 책임을 Trip에서 Bicycle로 옮겼지만
  - customer는 여행에 대해 너무 많이 알고, 책임을 가짐
  - 너무 많은 맥락 속에 갇힘

위 2가지 디자인 모두 재사용 어려움, 변경도 어려움, 단일 책임 원칙 위반

다시 정리해보자.
- Customer는 suitable_trips 메서드를 전송하는 것은 타당
- 문제는 송신자가 아닌 수신자에게 있음

Customer, Trip, Bicycle이 교차하는 지점에서 여행을 찾아 줄 객체가 필요.
suitable_trips 메서드는 이 객체의 퍼블릭 인터페이스의 한 부분을 차지할거임

![img]()

TripFinder는
- 여행을 찾아내는 방법을 알고
- suitable_trips 메시지에 답하기 위해 가능한 모든 방법을 시도하는 것이 이 클래스의 역할
- 내부적으로 지저분하고 언제 변경될지 모르는 세부 구현사항을 숨기고 있을지라도
- 이 클래스는 안정적인 퍼블릭 인터페이스를 제공
- suitable_trips 메서드를 TripFinder로 옮겼기 때문에
- 다른 객체들도 이 행동에 접근 가능