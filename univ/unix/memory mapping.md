# memory mapping
메모리의 내용을 파일이나 디바이스에 대응(mapping) 하기 위한 시스템 호출.

## 메모리관리와 mmap
각각의 프로세스는 프로세스마다 다른 프로세스와 중복되지 않는 주소공간을 가진다.
- 주소 공간은 최초 논리적인 3개의 세그먼트로 분할

결론은, 프로세스 메모리는 다른 프로세스 메모리와 공유하지 않는다.

`mmap`는 **메모리의 특정영역을 파일로 대응**시킬 수 있도록 도와준다.
- 파일은 시스템의 전역적인 객체이므로 다른 프로세스에서 접근가능하도록 할 수 있다.
- mmap는 **프로세스의 주소공간을 파일에 대응**

## mmap를 사용하면
메로리의 내용을 파일에 대응시켜 얻을 수 있는 것
- 프로세스간 데이터의 교환
  - 공유하고자 하는 데이터를 파일에 대응 시키고 이것을 읽고 쓰기
- 성능향상
  - 고전적인 방법은 fd를 얻어서 직접 입출력하는 방식인 `open`, `read`, `write`, `lseek`과 같은 함수 이용

## mmap 함수
```C
void *mmap( void   *start,
            size_t  lenth,
            int      prot,
            int     flags,
            int        fd,
            off_t   offset
  )
```
mmap함수는 `start`부터 `length` 까지의 메모리 영역을 열린파일 `fd`에 대응

`flags`는 대응되는 객체의 형식(type)을 지정하기 위해 사용
1. `MAP_FIXED`
2. `MAP_SHARED`
  - 대응되는 객체를 다른 프로세스도 공유
  - 프로세스들은 객체에 대해 동등한 권한 가진다
  - 그렇다면 객체 접근에 대한 동기화를 시켜줄 필요가 있는데, 이를 위해 `msync(2)`, `munmap(2)`가 사용됨. 이들 함수를 이용한 동기화는 따로 있다.


































  
